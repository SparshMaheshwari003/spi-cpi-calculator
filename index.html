<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><title>SPI / CPI Calculator</title><meta name="viewport" content="width=device-width, initial-scale=1"/><style>*{box-sizing:border-box}body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;margin:0;padding:0;background:#020617;color:#e5e7eb;min-height:100vh}header{padding:16px 20px;background:#0f172a;border-bottom:1px solid #1e293b}h1{margin:0;font-size:1.6rem;color:#facc15}header p{margin:4px 0 0;color:#9ca3af;font-size:0.9rem}main{max-width:1100px;margin:0 auto;padding:16px}.top-summary{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:16px;align-items:center}.summary-card{padding:10px 14px;border-radius:10px;border:1px solid #1f2937;background:#020617;min-width:150px}.summary-card .label{font-size:0.8rem;color:#9ca3af;text-transform:uppercase;letter-spacing:0.08em}.summary-card .value{font-size:1.3rem;font-weight:700;color:#fbbf24}button{font:inherit;padding:8px 12px;border-radius:999px;border:none;cursor:pointer;background:#2563eb;color:white;font-weight:600;transition:background 0.15s}button:hover{background:#1d4ed8}.btn-danger{background:#b91c1c}.btn-danger:hover{background:#991b1b}.btn-ghost{background:0;border:1px solid #334155;color:#e5e7eb}.btn-ghost:hover{background:#020617}.semesters{display:flex;flex-direction:column;gap:16px;margin-top:8px}.semester{border-radius:12px;border:1px solid #1e293b;background:#020617;box-shadow:0 16px 35px rgba(15,23,42,0.6);overflow:hidden}.sem-header{padding:10px 14px;display:flex;align-items:center;justify-content:space-between;background:#020617;border-bottom:1px solid #1e293b}.sem-title{font-weight:600;font-size:1rem}.sem-badge{font-size:0.8rem;color:#9ca3af}.sem-actions{display:flex;gap:8px;align-items:center}.sem-body{padding:12px 14px 14px}.form-row{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:8px;margin-bottom:10px}@media(max-width:720px){.form-row{grid-template-columns:1fr 1fr}.form-row .wide{grid-column:1/-1}}input,select{font:inherit;padding:7px 9px;border-radius:8px;border:1px solid #1f2937;background:#020617;color:#e5e7eb}input:focus,select:focus{outline:2px solid #2563eb}.error{color:#fca5a5;font-size:0.8rem;margin-bottom:6px}table{width:100%;border-collapse:collapse;font-size:0.85rem}th,td{border-bottom:1px solid #1f2937;padding:6px 4px;text-align:left}th{background:#020617;color:#e5e7eb}.right{text-align:right}.center{text-align:center}.sem-footer{display:flex;flex-wrap:wrap;gap:12px;justify-content:space-between;padding:8px 14px 10px;border-top:1px solid #1f2937;background:#020617}.sem-footer-item .label{font-size:0.75rem;color:#9ca3af;text-transform:uppercase}.sem-footer-item .value{font-size:1.1rem;font-weight:600;color:#38bdf8}.grade-map{margin-top:16px;font-size:0.8rem;color:#9ca3af}.grade-chip{display:inline-flex;align-items:center;gap:4px;padding:3px 8px;border-radius:999px;border:1px solid #1f2937;margin:2px}.grade-chip span.g{font-weight:600;color:#e5e7eb}.grade-chip span.p{color:#f97316}</style></head><body><header><h1>SPI / CPI Calculator (IITK-style)</h1><p>Per-semester SPI and overall CPI using credit-weighted grade points.</p></header><main><div class="top-summary"><div class="summary-card"><div class="label">Total credits (all sems)</div><div class="value" id="globalTotalCredits">0.0</div></div><div class="summary-card"><div class="label">Total weighted points</div><div class="value" id="globalTotalPoints">0.00</div></div><div class="summary-card"><div class="label">Overall CPI</div><div class="value" id="globalCPI">0.00</div></div><button id="addSemesterBtn" type="button">+ Add semester</button><button id="clearAllDataBtn" class="btn-danger" type="button">Clear all data</button></div><div id="semestersContainer" class="semesters"></div><div class="grade-map"><div>Grade to point mapping: A*=10, A=10, B+=9, B=8, C+=7, C=6, D+=5, D=4, E=0, F=0</div></div></main><script>const gradePoints={"A*":10,"A":10,"B+":9,"B":8,"C+":7,"C":6,"D+":5,"D":4,"E":0,"F":0};let semesters=[],nextSemId=1;function createSemester(){const id=nextSemId++;semesters.push({id,name:"Semester "+id,courses:[],totalCredits:0,totalPoints:0,spi:0});renderSemesters();recalcGlobal()}function addCourse(semId,name,credits,grade){const sem=semesters.find(s=>s.id===semId);if(!sem)return;sem.courses.push({name,credits,grade,points:gradePoints[grade]});recomputeSemester(sem);renderSemesters();recalcGlobal()}function removeCourse(semId,idx){const sem=semesters.find(s=>s.id===semId);if(!sem)return;sem.courses.splice(idx,1);recomputeSemester(sem);renderSemesters();recalcGlobal()}function recomputeSemester(sem){let tc=0,tp=0;sem.courses.forEach(c=>{tc+=c.credits;tp+=c.credits*c.points});sem.totalCredits=tc;sem.totalPoints=tp;sem.spi=tc>0?tp/tc:0}function recalcGlobal(){let tc=0,tp=0;semesters.forEach(s=>{tc+=s.totalCredits;tp+=s.totalPoints});const cpi=tc>0?tp/tc:0;document.getElementById("globalTotalCredits").textContent=tc.toFixed(1);document.getElementById("globalTotalPoints").textContent=tp.toFixed(2);document.getElementById("globalCPI").textContent=cpi.toFixed(2)}function renderSemesters(){const cont=document.getElementById("semestersContainer");cont.innerHTML="";semesters.forEach(sem=>{const div=document.createElement("div");div.className="semester";div.innerHTML=`<div class="sem-header"><div><div class="sem-title">${sem.name}</div><div class="sem-badge">SPI: ${sem.spi.toFixed(2)} | Credits: ${sem.totalCredits.toFixed(1)}</div></div><div class="sem-actions"><button class="btn-ghost" onclick="semesters.find(s=>s.id===${sem.id}).name=prompt('Semester name:',semesters.find(s=>s.id===${sem.id}).name)||semesters.find(s=>s.id===${sem.id}).name;renderSemesters();">Rename</button><button class="btn-danger" onclick="semesters=semesters.filter(s=>s.id!==${sem.id});renderSemesters();recalcGlobal();">Delete</button></div></div><div class="sem-body"><div class="form-row"><input placeholder="Course name" id="name${sem.id}" class="wide"><input type="number" min="0" step="0.5" placeholder="Credits" id="cred${sem.id}"><select id="grade${sem.id}"><option value="">Grade</option><option>A*</option><option>A</option><option>B+</option><option>B</option><option>C+</option><option>C</option><option>D+</option><option>D</option><option>E</option><option>F</option></select><button onclick="const n=document.getElementById('name${sem.id}').value;const c=parseFloat(document.getElementById('cred${sem.id}').value);const g=document.getElementById('grade${sem.id}').value;if(n&&c>0&&g)addCourse(${sem.id},n,c,g),document.getElementById('name${sem.id}').value='',document.getElementById('cred${sem.id}').value='',document.getElementById('grade${sem.id}').value='';">Add</button></div><table><thead><tr><th style="width:40%">Course</th><th class="right" style="width:15%">Credits</th><th class="center" style="width:15%">Grade</th><th class="right" style="width:15%">Points</th><th class="center" style="width:15%">Action</th></tr></thead><tbody>`; sem.courses.forEach((c,i)=>{div.innerHTML+=`<tr><td>${c.name}</td><td class="right">${c.credits}</td><td class="center">${c.grade}</td><td class="right">${(c.credits*c.points).toFixed(2)}</td><td class="center"><button class="btn-danger" onclick="removeCourse(${sem.id},${i})">Remove</button></td></tr>`});div.innerHTML+=`</tbody></table><div class="sem-footer"><div class="sem-footer-item"><div class="label">Credits</div><div class="value">${sem.totalCredits.toFixed(1)}</div></div><div class="sem-footer-item"><div class="label">Points</div><div class="value">${sem.totalPoints.toFixed(2)}</div></div><div class="sem-footer-item"><div class="label">SPI</div><div class="value">${sem.spi.toFixed(2)}</div></div></div>`;cont.appendChild(div)});}document.getElementById("addSemesterBtn").onclick=createSemester;document.getElementById("clearAllDataBtn").onclick=()=>{semesters=[];renderSemesters();recalcGlobal()};createSemester();</script></body></html>
